<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>自己満足プログラミング</title>
 <link href="http://happyclam.github.io/" rel="self"/>
 <link href="http://happyclam.github.io"/>
 <updated>2014-06-01T20:38:05+09:00</updated>
 <id>http://happyclam.github.io</id>
 <author>
   <name>happyclam</name>
   <email>happyclam.u@gmail.com</email>
 </author>

 
 <entry>
   <title>モウセンゴケ買ってみた</title>
   <link href="http://happyclam.github.io/miscellaneous/2014-05-31/drosera"/>
   <updated>2014-05-31T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/miscellaneous/2014-05-31/drosera</id>
   <content type="html">&lt;h3&gt;&lt;a href=&quot;http://www.amazon.co.jp/gp/product/B002DOEJ1W/ref=pd_lpo_sbs_dp_ss_3?pf_rd_p=466449256&amp;amp;pf_rd_s=lpo-top-stripe&amp;amp;pf_rd_t=201&amp;amp;pf_rd_i=B0029PVS32&amp;amp;pf_rd_m=AN1VRQENFRJN5&amp;amp;pf_rd_r=1PA8NW26VM11682HVNSS&quot;&gt;「コバエがホイホイ」&lt;/a&gt;の代わりになるかも&lt;/h3&gt;

&lt;p&gt;　&lt;a href=&quot;http://o.x0.com/m/35898&quot;&gt;トコトン掘り下げ隊！生き物にサンキュー！！【★巨大食虫植物ＳＰ】&lt;/a&gt;というテレビ番組で食虫植物が虫を捕えているのを見ながら、そう言えば毎年暑くなってくると&lt;a href=&quot;http://www.amazon.co.jp/gp/product/B002DOEJ1W/ref=pd_lpo_sbs_dp_ss_3?pf_rd_p=466449256&amp;amp;pf_rd_s=lpo-top-stripe&amp;amp;pf_rd_t=201&amp;amp;pf_rd_i=B0029PVS32&amp;amp;pf_rd_m=AN1VRQENFRJN5&amp;amp;pf_rd_r=1PA8NW26VM11682HVNSS&quot;&gt;コバエがホイホイ&lt;/a&gt;を２回ほど購入していることを思いだし、こいつらを飼っていれば金使わなくて済むじゃんと考えモウセンゴケを買うことにしました。&lt;br/&gt;
　コバエ退治が目的なのでハエトリソウだとスカスカで逃げられると思ったのでモウセンゴケに決めたんだけど、室内で飼うことを考えたら、サイズ的にも見てくれから判断してもモウセンゴケが一番良さそうです。Amazonで調べると実に種類が豊富。一番定番そうなドロセラ・カペンシスを購入したのですが、シャモジ型の葉のドロセラ・アングリカも欲しくなって、オマケにテレビで紹介されていなかったムシトリスミレと立て続けに購入してしまいました。
全然知らない世界でしたが、値段が結構お手頃なのも趣味にするには良さそうですね、今はセファロタス（和名：フクロユキノシタ）が欲しくなってきてます。すでに食虫植物に嵌ってるかも。&lt;br/&gt;
　今後ちゃんと飼育できるかどうかまだ分からないし、もし熱が冷めなければ、カテゴリ作って定期的に記事を書いていこうかなと思ってます。&lt;/p&gt;

&lt;h3&gt;飼育環境&lt;/h3&gt;

&lt;p&gt;　購入時に入っていたプラケースのまま様子を見てもよかったのかもしれませんが、既に購入した植物たちに愛着が湧いているので、プラケースじゃ可哀想、せめて素焼きの鉢に入れてあげようと思い早速植え替えることにしました。植物にとって入れ物がプラスチックから素焼きに変わったことでどれ程うれしいことなのか分かりませんが、少なくとも悪いことでは無いでしょう。鉢のまわりを水で浸す「&lt;ruby&gt;&lt;rb&gt;腰水&lt;/rb&gt;&lt;rp&gt;（&lt;/rp&gt;&lt;rt&gt;こしみず&lt;/rt&gt;&lt;rp&gt;）&lt;/rp&gt;&lt;/ruby&gt;」という方法がいいらしいので写真のようにしました。意外に根が長かったのでこれぐらい細長い鉢のほうがよさそうです。&lt;br/&gt;
&lt;img src=&quot;/images/drosera_garbini.png&quot; alt=&quot;カペンシス&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.amazon.co.jp/umbra-%E3%82%A2%E3%83%B3%E3%83%96%E3%83%A9-%E3%80%90Umbra%E3%80%91%E3%82%AC%E3%83%AB%E3%83%93%E3%83%8B%E3%82%AB%E3%83%B3-GARBINI-%E3%83%A1%E3%82%BF%E3%83%AA%E3%83%83%E3%82%AF%E3%83%9B%E3%83%AF%E3%82%A4%E3%83%88/dp/B003JMQ0GO&quot;&gt;【Umbra】ガルビニカン GARBINI CAN　 メタリックホワイト&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.amazon.co.jp/%E5%9B%BD%E5%86%85%E4%B8%89%E6%B2%B3%E9%89%A2-%E3%83%8F%E3%83%BC%E3%83%A2%E3%83%8B%E3%83%BC-%E7%B4%A0%E7%84%BC-%EF%BC%93%E5%8F%B7-%EF%BC%8F%E6%A4%8D%E6%9C%A8%E9%89%A2/dp/B007QJCLWI/ref=sr_1_1?s=diy&amp;amp;ie=UTF8&amp;amp;qid=1401491200&amp;amp;sr=1-1&amp;amp;keywords=%E3%83%8F%E3%83%BC%E3%83%A2%E3%83%8B%E3%83%BC+%E7%B4%A0%E7%84%BC+%EF%BC%93%E5%8F%B7&quot;&gt;素焼 ３号 ／植木鉢&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;　モウセンゴケは酸性土を好むらしいので土は&lt;a href=&quot;http://www.amazon.co.jp/%E8%8A%B1%E3%81%94%E3%81%93%E3%82%8D-%E3%83%96%E3%83%AB%E3%83%BC%E3%83%99%E3%83%AA%E3%83%BC%E3%81%AE%E5%9C%9F-5l/dp/B000IA88KG&quot;&gt;これ&lt;/a&gt;にしました。ホームセンターに置いてある物は一番少ないものでも５リットル入りで、そんなに要らないと思ったのですが、玄関脇に放ったらかしで植えてある&lt;ruby&gt;&lt;rb&gt;山茶花&lt;/rb&gt;&lt;rp&gt;（&lt;/rp&gt;&lt;rt&gt;サザンカ&lt;/rt&gt;&lt;rp&gt;）&lt;/rp&gt;&lt;/ruby&gt;も調べてみると酸性土を好むらしいので、余ったらそちらに使えばいいと思い決めました。&lt;br/&gt;
　今の心配は設置場所。&lt;ruby&gt;&lt;rb&gt;西陽&lt;/rb&gt;&lt;rp&gt;（&lt;/rp&gt;&lt;rt&gt;にしび&lt;/rt&gt;&lt;rp&gt;）&lt;/rp&gt;&lt;/ruby&gt;しかあたらない場所なので、調子悪いようであれば室内で飼うことは諦めるかもしれません。&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ツイートを監視して集計する</title>
   <link href="http://happyclam.github.io/project/2014-05-30/tweetwatch"/>
   <updated>2014-05-30T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/project/2014-05-30/tweetwatch</id>
   <content type="html">&lt;p&gt;Project: 「tweetwatch」: まだGitHubにはアップしていません&lt;/p&gt;

&lt;h3&gt;開発の動機&lt;/h3&gt;

&lt;p&gt;　今年の都知事選の頃、多くのフォロワーを抱えていいる人（以下a氏と表記）が&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Twitterで&lt;strong&gt;#都知事選&lt;/strong&gt;というタグをつけて自分が投票した候補者の名前を呟けば、それを集計してくれるアプリ作れないかな～&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;と物欲しそうに呟いていたのが目に止まりました。&lt;br/&gt;
Yahooのアンケートのように、誰がどれぐらい票を獲得しているかtwitterで独自に確認しようという意図のようです。
　プログラマたるもの、そこで「すぐ出来ますよ」とリプライするような軽率な行動をとってはいけません。職業プログラマなら尚更です。誰かが手を挙げるかもと思いながらしばらく様子を見ていましたが、その呟きに対して反応する人はいなかったようです。こういう場合、相手がどれほどのものを要求しているかわからないので迂闊に出来ますなんて言えませんが、StreamingAPI使えばとりあえず使える程度のものであれば、すぐ出来るんじゃないかと思い調べてみました。&lt;/p&gt;

&lt;h3&gt;とりあえずローカル環境で動くもの&lt;/h3&gt;

&lt;p&gt;　「StreamingAPI」で検索すると役に立ちそうなサイトはすぐに見つかりました→&lt;a href=&quot;http://morizyun.github.io/blog/ruby-twitter-stream-api-heroku/&quot;&gt;「Herokuの無料枠でTwitter Stream APIを常時監視 =&gt; DBに保存するRubyコード」&lt;/a&gt;&lt;br/&gt;
このmorizyunって人のサイトは調べ物をしている際にはよくお世話になっていますが、今回見つけた記事も自分の要望その物です。私はherokuは使いませんでしたがほぼこの記事のコードそのままがローカル環境で動作しました。ツイートの集計がしたいのであればDBに溜まったデータに対してSQLを打ち込めば好きな結果が得られます。a氏に教えてあげようかとも思いましたが、おそらくプログラミングやSQLも知らないa氏が実際に自分のPCで動かすためにはそうとうな時間をかけてサポートしてあげないと無理だろうと思って止めておきました。自分が良かれと思って教えても、逆に恨まれることになり兼ねません。そうなんです、自分でニタニタ楽しむためのソフトを作れたとしても、それをひと様に使ってもらおうとするとまた一段とハードルが高くなるんですねぇ。&lt;/p&gt;

&lt;h3&gt;ひと様が使えるようにするために&lt;/h3&gt;

&lt;p&gt;　最初はDBにデータを格納するだけのシェルスクリプトを起動しながら、ユーザー向けのwebインターフェースを提供してあげればいいだけだからそれほど手間はかからないと思いましたが、そうすると２プロセス動かすことになり、herokuの無料枠では済まなくなります。それに運用環境を何とか用意したとしても、自分のtwitterアカウントの認証キーをそのサービスで利用するとなると、一人しか利用できないwebサービスになってしまいます。twitter社にAPI利用料を支払えば解決ですが、そこまでする気もないので開発に取りかかるのは躊躇してました。&lt;br/&gt;
で結局、&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;運用環境に関してはとりあえず自宅サーバで動くようにしてから考える&lt;/li&gt;
&lt;li&gt;twitterのAPIキーをユーザ自身が登録して、そのキーを利用しながらDB格納プロセスを起動するようにする&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;という方針で作りました。
&lt;img src=&quot;/images/tweetwatch_screen.png&quot; alt=&quot;集計画面&quot; /&gt;  &lt;br/&gt;
DBにデータを格納するシェルスクリプトは、&lt;a href=&quot;http://morizyun.github.io/blog/ruby-twitter-stream-api-heroku/&quot;&gt;morizyun氏のコード&lt;/a&gt;を叩き台にしてWebサイトから制御するためのプロセス間通信用インターフェースを追加し、そのサーバーとなるシェルスクリプトに接続するクライアントアプリとなるユーザ向けのwebサイトは&lt;a href=&quot;http://railstutorial.jp/&quot;&gt;Ruby on Rails チュートリアル&lt;/a&gt;でRSpecの勉強（写経）をしながら作ったものを流用しています。&lt;br/&gt;
以降、DBにデータを格納する&lt;em&gt;サーバースクリプト&lt;/em&gt;とRails製&lt;em&gt;Webサイト&lt;/em&gt;に分けて紹介します。&lt;/p&gt;

&lt;hr /&gt;
</content>
 </entry>
 
 <entry>
   <title>ボラティリティについて</title>
   <link href="http://happyclam.github.io/miscellaneous/2014-05-27/my-posi_vola"/>
   <updated>2014-05-27T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/miscellaneous/2014-05-27/my-posi_vola</id>
   <content type="html">&lt;h3&gt;インプライド・ボラティリティ（IV）とヒストリカル・ボラティリティ（HV）&lt;/h3&gt;

&lt;p&gt;　ボラティリティには２種類ありますが、ニュースの記者や市況解説者が「ボラティリティ」という言葉を理解していないまま使っていることが多いと感じるので、以前から一言言っておきたいと思っていたことを書いておこうと思います。&lt;br/&gt;
　市況解説の中でも現物市場ではなく特に先物市場の解説をしている人が、先物価格の値動きが荒かった日などに「今日はボラの大きな一日でした」と解説しているのを聞くと「(・_・)......ン?」となることがあります、そういう日でもインプライドボラティリティ(IV)が低い日も結構あるからです。オプションの買いで勝負する時はボラが高い時が有利、逆に売りはボラが低い時が有利なのですが、IVが低い日に「今日は（オプション買いに）手出ししなくてよかった」と思っているところに、市況解説で「ボラの高い一日でした」なんて言われると「(‾△‾;)エッ・・そうだっけ？」となるわけです。実際にIVが高かったかどうかはスマイルチャートなどで確認できます。&lt;br/&gt;
　&lt;a href=&quot;http://www.option-dojo.com/kn/225_latest.html&quot;&gt;直近1年のボラティリティー&lt;/a&gt;をみればよく分かりますが、ヒストリカル・ボラティリティ（HV）とインプライド・ボラティリティ（IV）の動きは必ずしも一致していません。原資産である先物の動きがそれ程なくても、オプションの値動きが激しい日もあるということです。それにオプションは先物と違い、満期(SQ)が近づくとボラ(IV)が高くなるという性質（時間価値の減少に伴うもの）もあります。また、日経２２５先物とそれを原資産とする派生商品である日経２２５オプションの関係だけでなく、現物株とそれを原資産とする派生商品（株オプ等）の間でも同じことが言えます。&lt;br/&gt;
　まぁIVとHVの違いは理解しているけど、ボラティリティと言う言葉は単に「値動き」とか「値幅」と同義で使っているだけなので、区別する必要はないと言われればそれまでなのですが。&lt;/p&gt;

&lt;h3&gt;誤解を生む説明の仕方&lt;/h3&gt;

&lt;p&gt;　ネットや本ではよく&lt;strong&gt;「ボラティリティが高いとオプションのプレミアムが高くなる、ボラティリティが低いとオプションのプレミアムが低くなる」&lt;/strong&gt;と説明されています。でもこの文を読んでいる人を騙そうとする悪意があるかどうかは別にして、非常に誤解を生みやすい説明だと思います。なぜなら、&lt;strong&gt;ボラティリティが高いと&lt;/strong&gt;という前提条件がIVのことを指しているのかHVのことを指しているのかわかりません。&lt;br/&gt;
　もしIVのことを指しているとしたら、IVが高いとプレミアムが高くなるのはその通りですが、そのIVというものはオプションの価格から算出されているものだから当たり前のことを言っているに過ぎません。IVが高いとオプションのプレミアムが高くなるわけではなく、IVが高いってことはオプションが割高に買われているってことです。&lt;br/&gt;
　また、&lt;strong&gt;ボラティリティが高いと&lt;/strong&gt;という前提条件がHVのことを指しているのだとすると、HVが高いとオプションの&lt;strong&gt;理論価格&lt;/strong&gt;が高くなることは間違いないですが、オプションの&lt;strong&gt;実際の価格&lt;/strong&gt;が理論価格通りに高くなるとは限りません。HVが高いとオプションの価格（プレミアム）が高くなるのではなく、HVが高いとオプションの&lt;strong&gt;理論価格&lt;/strong&gt;が高くなると言うべきです。&lt;br/&gt;
　&lt;strong&gt;ボラティリティが高いと&lt;/strong&gt;という表現がIVのことを指しているとしてもHVのことを指しているとしても、いずれも不正確な文章だと言えます。IVとHVの違いを理解している人でもつい説明する手間を省いて、こういう表現をしがちなんだと思いますが、説明する側がよく理解していないケースも多いと思います。&lt;/p&gt;

&lt;h3&gt;違いが分かる説明の仕方&lt;/h3&gt;

&lt;p&gt;　&lt;a href=&quot;http://ja.wikipedia.org/wiki/%E3%83%9C%E3%83%A9%E3%83%86%E3%82%A3%E3%83%AA%E3%83%86%E3%82%A3&quot;&gt;wikipediaによるボラティリティの説明&lt;/a&gt;は学問的で、これはこれでいいのかもしれません。それに「インプライド・ボラティリティとは&lt;strong&gt;現実のオプション市場でついたオプション価格から逆算されたボラティリティ&lt;/strong&gt;のことである」とこれ以上望めない簡潔な言葉で言い表されています。&lt;br/&gt;
しかし、これ&lt;br/&gt;
&lt;img src=&quot;http://upload.wikimedia.org/math/c/8/9/c89911f0951782890cbb855572aa9de7.png&quot; alt=&quot;wikipediaのHVの数式&quot; /&gt;とか、&lt;br/&gt;
こういう&lt;br/&gt;
&lt;img src=&quot;http://upload.wikimedia.org/math/1/9/b/19beb2fcdc78f6d56e3e16ad3f04c624.png&quot; alt=&quot;wikipediaのIVの数式&quot; /&gt;難しい数式が出てくるので、「要するにどちらも値動きの荒さ、変動率のことだろ？」と言う感じで思考を中断してしまいがちだと思うのです。オプションという商品を理解しているつもりだった自分も、&lt;a href=&quot;http://my-posi.herokuapp.com&quot;&gt;先物・オプション売買損益シミュレーションサイト&lt;/a&gt;を自分で作ってみるまではIVとHVの違いを明確に区別出来ていなくて、よく似たような物ぐらいに考えていました。２つの間には相関関係が非常に薄いにも関わらずです。&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;
ヒストリカル・ボラティリティxとオプション理論価格yは以下のように表すことが出来て、  \\
y = ax\\
オプションの実際の価格がy_1であった時に、導き出されるものがインプライド・ボラティリティx_1である。  \\
x_1 = \frac{y_1}{a}\\
&lt;/script&gt;


&lt;p&gt;という感じで簡略化した数式を書いてくれれば２つのボラティリティの関係が分かりやすいと思うんですけど、どうでしょうか？&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>DBのカラムに対応しないプロパティ</title>
   <link href="http://happyclam.github.io/programming/2014-05-26/my-posi_tip1"/>
   <updated>2014-05-26T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/programming/2014-05-26/my-posi_tip1</id>
   <content type="html">&lt;h3&gt;日付型のカラムのデータを年月だけの文字列にしてコンボボックスに表示したい&lt;/h3&gt;

&lt;p&gt;先物やオプションの建玉を入力する時には限月を選ぶ必要がありますが、必要なのは年と月(&quot;2014/06&quot;等の文字列)だけです。でもDBに&quot;年/月&quot;のフォーマットで文字列として格納するのはあまりにも汚い。DBのカラム属性は日付型にしておいた方が何かと便利、というかしておくべきでしょう（日数や時間の差を計算する時に困ります）。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;img src=&quot;/images/dropdown_exp.png&quot; title=&quot;限月の選択&quot; alt=&quot;限月の選択&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;こういう場合、昔PHPで仕事していた時には、文字列型と日付型を相互にフォーマット変換するコードをView上のあちこちに散りばめながら実現していた記憶があります。&lt;/p&gt;

&lt;h3&gt;シンプルな実現方法&lt;/h3&gt;

&lt;p&gt;Position.expirationがDBのカラムに対応するプロパティで日付型です。そこにPosition.ym_expirationというDBにカラムが存在しない入出力用のプロパティを用意し、そのsetterとgetterを定義します。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Model(Position)&lt;br/&gt;
getter(日付型のデータを、年/月のフォーマットの文字列に変換してして返す)&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;&lt;code class=&quot;ruby:position.rb&quot;&gt;  def ym_expiration
    return self.expiration.strftime(&quot;%Y/%m&quot;) if self.expiration
  end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;setter(年/月の文字列データを日付01を付加して日付型に変換して格納)&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;ruby:position.rb&quot;&gt;  def ym_expiration=(ym_expiration)
    self.expiration = Date.strptime(ym_expiration + &quot;/01&quot;, &quot;%Y/%m/%d&quot;)
  end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Viewから呼ばれる、年/月の文字列データを返すメソッド&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;ruby:position.rb&quot;&gt;  def get_expiration_list
    :省略
    :
  end
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;View(_edit_position.html.erb)&lt;br/&gt;
Viewでは入出力用に追加したym_expirationプロパティだけを使うようにすれば、あたかもDBに対応するカラムのように扱えます。&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;&lt;code class=&quot;ruby:_edit_position.html.erb&quot;&gt;&amp;lt;td align=&quot;center&quot;&amp;gt;&amp;lt;%= f.select(&quot;ym_expiration&quot;, position.get_expiration_list, {:include_blank =&amp;gt; false}, {:class =&amp;gt; &quot;span6&quot;, :style =&amp;gt; &quot;width:90px;&quot;}) %&amp;gt;&amp;lt;/td&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;CakephpやPHP5以上ならたぶん同じことが出来ると思いますが、もうPHPに戻りたくないし調べる気にもなりません&lt;/p&gt;

&lt;hr /&gt;
</content>
 </entry>
 
 <entry>
   <title>先物・オプションのシミュレーションサイト</title>
   <link href="http://happyclam.github.io/project/2014-05-24/my-posi"/>
   <updated>2014-05-24T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/project/2014-05-24/my-posi</id>
   <content type="html">&lt;p&gt;Project: 「&lt;a href=&quot;http://my-posi.herokuapp.com/&quot;&gt;&lt;strong&gt;みんなのポジション&lt;/strong&gt;&lt;/a&gt;」: &lt;a href=&quot;https://github.com/happyclam/my-posi&quot;&gt;GitHub&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;開発の動機&lt;/h3&gt;

&lt;p&gt;当時、利用している証券会社のシステムが物足りなく信用できないものであったため自作しました。でも自分で作成した後、まもなくネット証券側もシステムをリニューアルして、自分のものより遥に高機能なものに置き換わったのですが、損益グラフを表示した時にグラフのメモリ幅を変更出来ないため見にくいという不満があったりするので、その点でまだは自分のソフトの方が優れているかなと思っています。まぁオプション売買を活発にしている人はそれ程多くないと思いますので、証券会社も力を入れていないのだと思います。５社ほどで取引したことありますが、そもそもオプション売買のシミュレーション機能なんて無い証券会社もありました。&lt;br/&gt;
最近は自分もあまりオプション取引をしていないのでよく知りませんが、今ではWebベースでもWindowsネイティブソフト並にユーザインターフェースに凝ったソフトを提供している証券会社があるかもしれません。&lt;/p&gt;

&lt;h3&gt;機能&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;日経225先物、日経225先物ミニ、日経225オプション(CALL,PUT)の建玉を一つのポジション、複数のポジションをまとめたものをストラテジーとして、ユーザ毎の複数のストラテジーの保存。&lt;/li&gt;
&lt;li&gt;複数の建玉の売買シミュレーションと損益推移（個別・合算）グラフを表示&lt;br/&gt;
※ブラックショールズモデルを利用したオプション理論価格計算に対応しているので、満期（SQ）時の損益だけでなく、現時点での原資産価格（日経225先物価格）毎の損益推移を表示出来ます&lt;/li&gt;
&lt;li&gt;twitterを利用したユーザー認証とポジションをtwitterで呟く&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;ER図&lt;/h3&gt;

&lt;object data=&quot;/pdf/ERD.pdf&quot; width=&quot;760&quot; height=&quot;480&quot;&gt;
&lt;p&gt;ご覧の環境では、object要素がサポートされていないようです。&lt;a href=&quot;/pdf/ERD.pdf&quot;&gt;PDFファイルをダウンロードしてください&lt;/a&gt;&lt;/p&gt;
&lt;/object&gt;


&lt;p&gt;UserモデルとStrategyモデルが1対多、StrategyモデルとPositionモデルが1対多で関連付けられている単純なテーブル構造です。&lt;br/&gt;
他のテーブルと関連付けられていないCandlestickモデルというのはネット上に転がっている先物価格のロウソク足用のcsvデータを流し込むためのテーブルで、ヒストリカル・ボラティリティ（HV）を計算するためだけに使用しています。HVの計算方法には色々あるようですが、自分が使用したのは&lt;a href=&quot;http://www.option-dojo.com/kn/225_vola.html&quot;&gt;ここ&lt;/a&gt;に記載されている方法に倣っています。&lt;br/&gt;
気が向いたときにcsvデータを手動で更新するという運用の仕方をしてました。画面から手入力するとその値を優先して使用するようにしているので、実際にはHVを手入力して使うことが多かったです。開発当時は無かったのですが、今なら日経平均ボラティリティインデックスがリアルタイムで更新されているのでその値を手入力する方がいいかもしれません。20%（日経平均VIが20ポイント）であれば0.2を入力します。このHVの値を使ってオプション理論価格を算出します。&lt;br/&gt;
※ボラティリティにはHVとは別にインプライド・ボラティリティ（IV）というものがありますが、ボラティリティに関しては別記事を書こうと思います。&lt;/p&gt;

&lt;h3&gt;テーブル構造&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;Userテーブル&lt;/em&gt;&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 名称         &lt;/th&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 内容                                           &lt;/th&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 例            &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; name         &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; サイト内で使用する独自のユーザ名                 &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt;               &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; provider     &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; twitter認証APIで返される文字列                  &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; &quot;twitter&quot;     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; screen_name  &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; twitter認証APIで返される文字列                  &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; &quot;SappierBoy&quot;  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; uid          &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; twitter認証APIで返される文字列                  &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; &quot;1111111111&quot;  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;Strategyテーブル&lt;/em&gt;&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 名称         &lt;/th&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 内容                                                &lt;/th&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 例            &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; draw_type    &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 損益グラフを個別表示するか合算表示するか              &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 1,未定義      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; interest     &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 金利                                                &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 0.02          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; name         &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; ストラテジー名                                       &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; &quot;abc戦略&quot;     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; range        &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; グラフの幅デフォルト500とした相対数値で拡大・縮小      &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 500          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; sigma        &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; オプション理論価格計算に使用するボラティリティ(HV)     &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 0.2          &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;Positionテーブル&lt;/em&gt;&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 名称         &lt;/th&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 内容                                           &lt;/th&gt;
&lt;th style=&quot;text-align:left;&quot;&gt; 例            &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; distinct     &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 商品種別（日経225先物、日経225先物mini、CALLオプション、PUTオプション） &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt;       &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; exercise     &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 行使価格（オプションの場合のみ、先物の場合はnil） &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 0.02          &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; expiration   &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 限月（満期月）                                  &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; &quot;2014/06&quot;     &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; maturity     &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 残存日数（1日に満たない場合も日数換算）          &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 0.1～365      &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; number       &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; オプション理論価格計算に使用するボラティリティ    &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 0.2           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; sale         &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 売り、買いの区別                                &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt;               &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; unit         &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt; 商品単価                                        &lt;/td&gt;
&lt;td style=&quot;text-align:left;&quot;&gt;               &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;Candlestickテーブル&lt;/em&gt;&lt;br/&gt;
※どこから先物価格のデータを取得するかでテーブル構造は変わるので省略します。必要なのはオプションの原資産となる先物価格の終値20日分です。私が利用していたのは&lt;a href=&quot;http://k-db.com/&quot;&gt;このサイト&lt;/a&gt;です。&lt;br/&gt;
以下のようにcsvデータをダウンロード&lt;br/&gt;
&lt;code&gt;
wget -O ./lib/futures.csv &quot;http://k-db.com/site/jikeiretsuF.aspx?c=101&amp;amp;year=0&amp;amp;download=csv&quot;  
&lt;/code&gt;&lt;br/&gt;
csvデータから先物価格データを格納    &lt;br/&gt;
&lt;code&gt;  
rails runner Candlestick::biteoff
&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;参考文献&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.amazon.co.jp/%E4%B8%96%E7%95%8C%E4%B8%80%E3%82%84%E3%81%95%E3%81%97%E3%81%84%E9%87%91%E8%9E%8D%E5%B7%A5%E5%AD%A6%E3%81%AE%E6%9C%AC%E3%81%A7%E3%81%99-%E7%94%B0%E6%B8%95-%E7%9B%B4%E4%B9%9F/dp/4534040512]&quot;&gt;「世界一やさしい金融工学の本です」&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>rspecに納得できない</title>
   <link href="http://happyclam.github.io/programming/2014-05-17/inflexible-rspec"/>
   <updated>2014-05-17T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/programming/2014-05-17/inflexible-rspec</id>
   <content type="html">&lt;p&gt;先日衝動買いした&lt;a href=&quot;http://www.amazon.co.jp/Instant-RSpec-Test-Driven-Development-How-ebook/dp/B00DMYO1QK&quot;&gt;Instant RSpec Test-Driven Development How-to [Kindle版]&lt;/a&gt;の最初に出てくるサンプルコード&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;ruby:location_spec.rb&quot;&gt;describe Location do
  describe &quot;#initialize&quot; do
    it &quot;sets the latitude and longitude&quot; do
      loc = Location.new(:latitude =&amp;gt; 38.911268,
                         :longitude =&amp;gt; -77.444243)
      loc.latitude.should == 38.911268
      loc.longitude.should == -77.444243
    end
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;上記テストを通過させるために「自分が書いたコード」が以下のもの&lt;code&gt;rspec failed&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;pre&gt;&lt;code class=&quot;ruby:my_answer.rb  &quot;&gt;   class  Location  
       attr_accessor :latitude  
       attr_accessor :longitude  
       def initialize(lati=nil, long=nil)  
           @latitude = lati  
           @longitude = long  
       end  
   end  
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;「リファクタリング前のコード」として本で紹介されているコード&lt;code&gt;rspec passed&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;pre&gt;&lt;code class=&quot;ruby:bad_answer.rb&quot;&gt;   class  Location
       def initialize(args = {});end
       def latitude
           38.911268
       end
       def longitude
           -77.444243
       end
   end
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;「リファクタリング後のコード」として本で紹介されているコード&lt;code&gt;rspec passed&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;pre&gt;&lt;code class=&quot;ruby:model_answer.rb&quot;&gt;   class Location
       attr_accessor :latitude, :longitude
       def initialize(args = {})
           self.latitude = args[:latitude]
           self.longitude = args[:longitude]
       end
   end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;テストを通過させるためだけに書かれたような「リファクタリング前のコード」がエラーにならないのに、上記「自分のコード」がエラーになるのは納得がいかない。&lt;br/&gt;
自分のコードに何かエラーにしなければならない理由があるのか？自分にはわからないので誰か教えてください。&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Jekyll Bootstrapのテンプレート　</title>
   <link href="http://happyclam.github.io/practice/2014-01-12/jekyll-bootstrap"/>
   <updated>2014-01-12T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/practice/2014-01-12/jekyll-bootstrap</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://melborne.github.io/2012/05/13/first-step-of-jekyll/&quot;&gt;「30分のチュートリアルでJekyllを理解する」&lt;/a&gt;を見て一通り理解できたので、見た目を格好良くしようと思い&lt;a href=&quot;http://jekyllbootstrap.com/usage/jekyll-theming.html&quot; title=&quot;Jekyll-bootstrap&quot;&gt;Jekyll Bootstrap&lt;/a&gt;のテーマをダウンロードして適用しました。そうしたらそれまで見れていたサイトgithub pages(http://username.github.io/)が表示されなくなったのでその顛末を書いています。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;まずgithubから &lt;br/&gt;
&lt;code&gt;The submodule &#39;xxxxx&#39; was not properly initialized with a &#39;.gitmodules&#39; file.&lt;/code&gt;&lt;br/&gt;
というメールが来た。どうもsubmoduleというのがよく分からなかったのだけど&lt;a href=&quot;http://qiita.com/sotarok/items/0d525e568a6088f6f6bb&quot; title=&quot;Git submodule の基礎&quot;&gt;ここ&lt;/a&gt;を参考に解決&lt;br/&gt;
&lt;code&gt;jekyll build&lt;/code&gt;で静的ファイルを生成したはずだから、build後はテンプレートは必要ないのかと思ったけどsubmoduleとしてcommitしなければいけないらしい。今までgit使っていてsubmoduleなんて使ったこと無かったけど、submodule内のcommitは外のcommitとは別途実行する必要（当然といえば当然だけど）があるみたいで、なんだかややこしそうな仕組みだ。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;次に来たメールがこんなの&lt;br/&gt;
&lt;code&gt;The tag &#39;math&#39; in &#39;xxxxx&#39; is not a recognized Liquid tag.&lt;/code&gt;&lt;br/&gt;
&lt;a href=&quot;http://melborne.github.io/2012/05/13/first-step-of-jekyll/&quot; title=&quot;30分のチュートリアルでJekyllを理解する&quot;&gt;数式を表示するプラグイン（Mathjax.rb）&lt;/a&gt;を試しに使っていたのだが、テンプレートを適用したためテンプレート内に存在するdefault.htmlを修正する必要が出てきた。テンプレート内のファイルに変更を加えたらテンプレートをupdateしたときに問題が出るんじゃないの？と思いながらもとりあえずテンプレート内のdefault.html&lt;a href=&quot;#fn1&quot;&gt;&lt;sup&gt;*1&lt;/sup&gt;&lt;/a&gt;にMathJax.jsを読み込むコードを追加&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ようやく表示出来るかとおもったら、また次のようなメールが&lt;br/&gt;
&lt;code&gt;page build failed&lt;/code&gt;&lt;br/&gt;
今回のメールは理由が書いていない。どうすりゃいいの？ローカルでは問題ないのに。&lt;br/&gt;
googleで検索すると&lt;a href=&quot;http://modalsoul.github.io/environment/2013/08/17/Github-pages-build-failure/&quot;&gt;ここ&lt;/a&gt;にいろんなケースが書いてあった。こんなこと全部はやってられるかって感じ。herokuでも感じていたけど、やりたいことと関係ないところで手間がかかるから、運用の手間は増えるけどEC2とかを使って全部自分でサーバー環境作るべきか？とか思案に耽ってしまった。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;気分を入れ替えてgithubのレポジトリを削除して作り直すことにした。そもそも&lt;a href=&quot;http://krakenbeal.blogspot.jp/2012/05/ruby-jekyll-jekyll-bootstrap.html&quot;&gt;このサイト&lt;/a&gt;を参考にjekyllのbuild環境を含めてレポジトリを作ったのだけど、githubにある「Automatic Page Generator」のボタンをクリックしてレポジトリを新しく作り直してみると、リポジトリには生成された静的コンテンツのみが含まれていた。ということはgithubのリポジトリにはjekyllで生成された結果ファイルのみを含めるべきなのか？まぁgeneratorとはそうやって使うのが普通だろうけど、herokuを使っている自分としては開発環境（というかファイル生成環境）毎pushするのかと思っていたので少々面食らった。githubからbuild errorの通知メールを送ってくれるわけだからgithub側で自動buildしてくれる仕組みはあるようだけど、ローカル環境でbuildした結果だけをpushしても問題はないようだ。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;結論。&lt;/strong&gt;やったのは以下の３作業だけ。ネットで検索しているとgh-pagesブランチを作れとか書いてあるが、別ブランチを作ったらgithubからbuild errorのメールが届いたのでmasterブランチのままです。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1 githubのメニューからusername.github.ioという名前のrepositoryを新規作成&lt;br/&gt;
2 ローカル環境にcloneして、jekyll generatorで出力した_siteディレクトリ以下のファイルをcopyしてcommit&lt;br/&gt;
  &lt;code&gt;git clone https://github.com/username/username.github.io.git&lt;/code&gt;&lt;br/&gt;
  &lt;code&gt;cp -rp ../localrepository/_site/* .&lt;/code&gt;&lt;br/&gt;
  &lt;code&gt;git commit -a -m &quot;copy from _site directory of jekyll project&quot;&lt;/code&gt;&lt;br/&gt;
3 masterブランチとしてpush&lt;br/&gt;
  &lt;code&gt;git push origin&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;  何かネットの情報に振り回されて余計な時間を喰ってしまった感じです。githubの仕様が変わったのか、今頃github-pagesに手を出す私は珍しいのか、ローカルにjekyllをインストールして使う人は少ないのか知りませんが、上に書いた手順を紹介しているサイトは見かけなかったので、何か間違っているのかもしれませんが。このやり方で運用しようと思います。&lt;/p&gt;

&lt;p&gt;&lt;a name=&quot;fn1&quot;&gt;*1&lt;/a&gt;default.htmlが複数あってややこしいですが、テンプレート内のファイルを変更する必要は無く、_include/以下にあるdefault.htmlを変更すればいいようです。&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Jekyllの練習</title>
   <link href="http://happyclam.github.io/practice/2014-01-10/jekyll-practice"/>
   <updated>2014-01-10T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/practice/2014-01-10/jekyll-practice</id>
   <content type="html">&lt;p&gt;jekyllで数式出力を試してみた。&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;
Formular\ from Wikipedia\\

\int_0^3 9x^2 + 2x + 4\, dx = 3x^3 + x^2 + 4x + C \Big\rbrack_0^3 = 102\\

e^{x+iy} = e^x(\cos y + i\sin y)\\

x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
  \\
Simple\ FDTD\ Algorithm\ and\ Devils\ in\ the\ Details \\
\begin{eqnarray}
\psi(x,t + \Delta t) &amp;=&amp; -\psi(x, t - \Delta t) + [2 + \frac{v^2\Delta t^2}{\Delta x ^2} d_x^2] \psi(x,t) \\
                       &amp;=&amp; -\psi(x, t - \Delta t) + 2\psi(x,t) + \frac{v^2\Delta t^2}{\Delta x ^2} d_x^2 \psi(x,t) \\
                       &amp;=&amp; -\psi(x, t - \Delta t) + 2\psi(x,t) + \frac{v^2\Delta t^2}{\Delta x ^2}
                       [ \psi(x - \Delta x, t) + \psi(x + \Delta x, t) - 2 \psi(x, t) ] \\
\end{eqnarray}

&lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>shoesおもしろい</title>
   <link href="http://happyclam.github.io/practice/2014-01-09/ruby-is-great"/>
   <updated>2014-01-09T00:00:00+09:00</updated>
   <id>http://happyclam.github.io/practice/2014-01-09/ruby-is-great</id>
   <content type="html">&lt;h2&gt;shoesとは&lt;/h2&gt;

&lt;p&gt;shoesはrubyで作られたgui開発ツールです。&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/5485761.js?file=drawing.rb&quot;&gt; &lt;/script&gt;


&lt;h2&gt;Try Ruby&lt;/h2&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Person&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;     &lt;span class=&quot;vi&quot;&gt;@name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hello&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;     &lt;span class=&quot;s2&quot;&gt;&amp;quot;Hello, friend!&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; Myname is #[@name}!&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;happyclam&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;happyclam&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;happyclam&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hello&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# &amp;gt;&amp;gt; Hello, friend!&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# &amp;gt;&amp;gt; My name is happyclam!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;



</content>
 </entry>
 
 
</feed>