<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">
  <meta name="author" content="happyclam">
  <meta name="description"
    content="Tic-tac-toe Evoリニューアルしました 強化学習の過程を体感 Reinventing the wheel.">
  <title> Tic-tac-toe Evoリニューアルしました - 自己満足プログラミング </title>

  Global Site Tag (gtag.js) - Google Analytics
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1752720-7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-1752720-7');
  </script>

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@SappierBoy">
  <meta name="twitter:creator" content="@SappierBoy">
  
  <meta name="twitter:title" content="Tic-tac-toe Evoリニューアルしました">
  
  
  <meta name="twitter:url" content="/project/2019-09-12/new_tictactoe">
  
  
  <meta name="twitter:description" content="「進化する三目並べ」リニューアル">
  
  
  <meta name="twitter:image:src" content="https://happyclam.github.io/images/logo_114.png">
  

  <!-- stylesheets -->
  <link media="all" href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
  <link media="all" href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link media="all" rel="stylesheet" href="/assets/css/site.css">

</head>


<body>
  <header>
  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a id="site-title" class="navbar-brand" href="/">
          <img class="pull-left img-responsive" src="">
          <span class="name-holder">自己満足プログラミング</span>
        </a>
      </div>

      <div class="collapse navbar-collapse" id="navbar">

        <ul id="main-menu" class="nav navbar-nav navbar-right">

          
            <li><a href="/">
              <i class="fa fa-home"></i> Home</a>
            </li>
          
            <li><a href="/categories/">
              <i class="fa fa-sitemap"></i> Categories</a>
            </li>
          
            <li><a href="/tags/">
              <i class="fa fa-tag"></i> Tags</a>
            </li>
          
            <li><a href="/about/">
              <i class="fa fa-info-circle"></i> About</a>
            </li>
          
            <li><a href="/policy/">
              <i class="fa fa-check"></i> Policy</a>
            </li>
          

        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
  </nav>
</header>

  <!-- <script src="https://unpkg.com/simple-jekyll-search@1.5.0/dest/simple-jekyll-search.min.js"></script> -->
  <script src="/assets/js/simple-jekyll-search.min.js"></script>
  <div style="text-align: center;">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-9018029357773039",
          enable_page_level_ads: true
      });
    </script>
  </div>
  <div class="blog-header">
    <div class="row-fluid">
      <div class="span3">
        <a href="https://twitter.com/share" class="twitter-share-button"{count} data-via="SappierBoy">Tweet</a>
        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
      </div>
      <div class="span9">
        <!-- Html Elements for Search -->
        <div id="search-container" align="right">
          <input type="text" id="search-input" placeholder="search...">
          <ul class="searchresult" id="results-container"></ul>
        </div>
        <div class="results"></div>
      </div>
    </div>
<script type="text/javascript">
  SimpleJekyllSearch.init({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
    searchResultTemplate: '<li><a href="{url}" title="{category}:{title}">{title}</a></li>',
    noResultsText: 'No results found',
    limit: 15,
    fuzzy: false,
  })
</script>
  </div>
  <div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-offset-1 col-md-10 col-lg-offset-2 col-lg-8">
      <div class="page">

        <header class="page-header">
          <h2 class="page-title"><a href="/project/2019-09-12/new_tictactoe">Tic-tac-toe Evoリニューアルしました</a></h2>
          <div class="post-metadata">
            <div> <i class="fa fa-calendar"></i>
              <time>
                Thursday, September 12, 2019
              </time>
            </div>
            <div> <i class="fa fa-tag"></i>
                
                  <span class="label label-tag">coffeescript</span>
                
                  <span class="label label-tag">javascript</span>
                
                  <span class="label label-tag">android</span>
                
                  <span class="label label-tag">cordova</span>
                
                  <span class="label label-tag">tictactoe</span>
                
            </div>
          </div>

        </header>

        <article class="page-content">
          <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script src="/assets/js/jquery.min.js"></script>

<script src="/assets/js/jquery.flot.min.js"></script>

<script src="/assets/js/flotr2.min.js" type="text/javascript"></script>

<script src="/assets/js/jquery.flot.selection.js" type="text/javascript"></script>

<p><a href="https://play.google.com/store/apps/details?id=tictactoe_evo.io.github.happyclam"><img src="/images/ja_badge_web_generic.png" alt="Tic-tac-toe Evo" title="Tic-tac-toe Evo" width="155" height="60" /></a></p>

<h3 id="tic-tac-toe-evoについて">「Tic-tac-toe Evo」について</h3>
<p>　今まで<a href="https://play.google.com/store/apps/details?id=tictactoe_evo.io.github.happyclam">「進化する三目並べ（Tic-tac-toe Evo）」</a>として公開していたアプリを<a href="https://forest.watch.impress.co.jp/docs/news/1171267.html">Google Playがアプリ公開の要件を強化</a>するのに伴ってリニューアルしました。新機能も追加しデータの互換性もない<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>ので新しい別アプリとして公開しています。<br />
　モンテカルロ法を使った強化学習によって対戦する毎に強くなります。対局終了時に「勝てばそれまでの指し手に加点、負ければ減点」することによって学習していきます。プログラム内でやっていることは<a href="https://hb.afl.rakuten.co.jp/hgc/18980d66.5ec24871.18980d67.e8ecef93/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F5271872%2F&amp;m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F12693001%2F&amp;link_type=text&amp;ut=eyJwYWdlIjoiaXRlbSIsInR5cGUiOiJ0ZXh0Iiwic2l6ZSI6IjI0MHgyNDAiLCJuYW0iOjEsIm5hbXAiOiJyaWdodCIsImNvbSI6MSwiY29tcCI6ImxlZnQiLCJwcmljZSI6MCwiYm9yIjoxLCJjb2wiOjAsImJidG4iOjF9">「Statistics Hacks」</a>という統計学の本で紹介されていた強化学習の内容とほぼ同じです<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup>。<br />
　<a href="https://play.google.com/store/apps/details?id=io.github.happyclam">旧アプリ</a>は近々削除する予定です。</p>

<h5 id="-進化の過程について">※ 進化の過程について</h5>
<p>　三目並べプログラムの学習度合いによって「ピロリ菌」から「人」まで、学習度合いをいろんな生物に例えて画像を表示しています。「系統樹」「進化」等をキーワードにしてネットで調べながら自分なりに選んだ生物の画像を表示しています。必ずしも人類の進化の過程を正しく表現しているわけではありません。<a href="https://kagakubar.com/mandala/mandala01.html">「僕たちの祖先をめぐる15億年の旅」</a>というサイトを参考にさせていただきました。</p>

<h3 id="旧アプリとの違い追加機能"><a href="https://play.google.com/store/apps/details?id=io.github.happyclam">旧アプリ</a>との違い、追加機能</h3>
<ul>
  <li>二ヶ国語対応（日本語、英語）</li>
  <li>今までの画像による進化度合いの表現に加えて重みデータを数値で視覚化</li>
  <li>自己対戦機能追加</li>
</ul>

<h3 id="使い方">使い方</h3>
<p>　先手は×、後手は○で縦、横、斜めに三目並べたら勝ちです。ＡＩと対戦した場合、対戦終了毎に学習データを更新し、ＡＩが徐々に強くなっていきます。最初の内は簡単に勝てますが、徐々に勝てなくなるでしょう。</p>

<h4 id="先手後手">先手・後手：</h4>
<p>　先手・後手それぞれ<code class="language-plaintext highlighter-rouge">人</code>と<code class="language-plaintext highlighter-rouge">AI</code>が選択できます。ＡＩ同士の対戦では一瞬で勝負が付きますので、対局画面下の<code class="language-plaintext highlighter-rouge">&lt;&lt;</code>,<code class="language-plaintext highlighter-rouge">&lt;</code>,<code class="language-plaintext highlighter-rouge">&gt;</code>,<code class="language-plaintext highlighter-rouge">&gt;&gt;</code>マークをタップしてゲーム終了後に手順を確認出来ます。</p>

<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/screen_turn.png"><img src="/images/screen_turn.png" alt="先手・後手" width="320" height="324" title="先手・後手" /></a></p>

</div>

<h4 id="ａｉの対戦成績">ＡＩの対戦成績：</h4>
<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/screen_record.png"><img src="/images/screen_record.png" alt="ＡＩの対戦成績" width="320" height="357" title="ＡＩの対戦成績" /></a></p>

</div>

<h4 id="重みデータ表示">重みデータ表示：</h4>
<p>　ゲーム中でもゲーム終了後でも画面左上のチェックマークアイコンをタップすると現在の局面での重みデータを表示します。５秒経つと消えるのでもっと長く表示したい場合はチェックマークアイコンを複数回タップしてください。</p>

<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/value_display0.png"><img src="/images/value_display0.png" alt="重みデータ確認" width="320" height="472" title="重みデータ確認" /></a></p>

</div>

<p>　重みデータは既に駒が置かれているマス目は<code class="language-plaintext highlighter-rouge">_______</code>で、それ以外のマス目は合計が<code class="language-plaintext highlighter-rouge">1</code>になる値で表示します。初期状態では均等に重みが割り振られていますが、学習が進むにつれてこの値が変動し、<code class="language-plaintext highlighter-rouge">マス目の値／合計値（＝１）</code>の確率でＡＩが指し手を選択します。一番大きな値の箇所を選択するのが最善だとＡＩが学習しているということです。</p>

<h4 id="学習データの初期化">学習データの初期化：</h4>
<p>　アイコンを長押しして表示される「アプリ情報」メニューから「データを消去」を選べば、Androidの機能を使って学習データの初期化が出来ます。</p>

<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/screen_initialize.png"><img src="/images/screen_initialize.png" alt="データの初期化" width="320" title="データの初期化画面" /></a></p>

</div>

<h4 id="進化の度合いの数値について">「進化の度合い」の数値（％）について：</h4>
<p>　すべての局面データから「あと一手でラインが揃う局面」を検索して「どれぐらいの確率で相手が三目揃うのを防ぐか（期待値）」を計算して「進化の度合い」としてアプリに表示しています。100%にはなりません、学習の進捗度合いを表す一つの目安と考えてください。</p>

<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/screen_degree.png"><img src="/images/screen_degree.png" alt="進化度合い" width="320" height="490" title="進化度合い" /></a></p>

</div>

<h4 id="過去のイラスト表示">過去のイラスト表示</h4>
<p>　スワイプ操作で過去に表示されていた画像を再度表示できます。画像の上に指をおいて左または上にスワイプすると「戻る」右または下にスワイプすると「進む」です。<br />
　過去の画像が見れるだけで、この先どんな動物に進化するのかは見ることは出来ません。「人」まで進化したらすべて見ることが出来ます。「人」の先はどうなるのか、それはやってみてからのお楽しみということにしておきます。</p>

<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/screen_swipe.png"><img src="/images/screen_swipe.png" alt="スワイプで画像の移動" width="320" height="512" title="スワイプで画像の移動" /></a></p>

</div>

<h3 id="学習過程を観察">学習過程を観察</h3>
<h4 id="例１">例１：</h4>
<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/value_display1.png"><img src="/images/value_display1.png" alt="初期状態１" width="320" height="412" title="初期状態１" /></a></p>

</div>
<p>　インストール直後でＡＩとの対戦をしていない初期状態ではすべての空いているマス目の重みが合計１になるように割り当てられています。上の図では<code class="language-plaintext highlighter-rouge">0.1111 * 9 = 1.0</code>（切り捨てて表示）</p>

<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/value_display2.png"><img src="/images/value_display2.png" alt="初期状態２" width="320" height="459" title="初期状態２" /></a></p>

</div>

<p>　一手進んだ上の図では<code class="language-plaintext highlighter-rouge">0.1250 * 8 = 1.0</code>。ＡＩは次の手を数値の確率で選びます。学習が進んで表示上<code class="language-plaintext highlighter-rouge">0.00000</code>や<code class="language-plaintext highlighter-rouge">1.00000</code>になることがありますが、小数点以下６桁目を四捨五入して表示していますので内部の数値は<code class="language-plaintext highlighter-rouge">0</code>や<code class="language-plaintext highlighter-rouge">1</code>にはなりません。<code class="language-plaintext highlighter-rouge">0.00000</code>と表示されていてもそのマス目を選ぶ可能性がありますし、<code class="language-plaintext highlighter-rouge">1.00000</code>と表示されていてもそのマス目以外の箇所を選ぶこともあります。</p>

<h4 id="例２">例２：</h4>
<div style="width:360px; margin: 0 auto;">

  <p><a href="/images/game1.gif"><img src="/images/game1.gif" alt="ゲーム例１" width="360" height="240" title="ゲーム例１" /></a></p>

</div>

<p>　インストール直後の初期状態から上記のようにゲームが進行した後に<code class="language-plaintext highlighter-rouge">&lt;&lt;</code>マークで初手の局面に戻して画面左上のチェックマークをタップすると、以下のように真ん中のマス目の重みが増加しています。初手に真ん中を選んだ先手（×）が勝ったので真ん中を選んだ手が良い手だったと判断し報酬を得ました（重みが増加）。</p>

<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/game1_value0.png"><img src="/images/game1_value0.png" alt="ゲーム例１、初手" width="320" height="429" title="ゲーム例１、初手" /></a></p>

</div>

<p>　二手目の局面でチェックマークをタップすると以下のように右上のマス目の値（重みデータ）が減少しています。後手（○）はこの局面で右上を選んで負けたので罰を与えられました（重みが減少）。こういう作業を繰り返すことでどの局面でどの手が最善かを学習していきます。</p>

<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/game1_value1.png"><img src="/images/game1_value1.png" alt="ゲーム例１、二手目" width="320" height="425" title="ゲーム例１、二手目" /></a></p>

</div>

<p>　このようにゲーム終了後に勝った方の手を良い手、負けた方の手を悪い手と判断し、全ての局面の重みデータを修正していくことで学習し、徐々に強くなっていきます（<strong>モンテカルロ法による強化学習</strong>）。</p>

<h4 id="例３">例３：</h4>
<div style="width:320px; margin: 0 auto;">

  <p><a href="/images/game2_value0.png"><img src="/images/game2_value0.png" alt="ゲーム例２" width="320" height="427" title="ゲーム例２" /></a></p>

</div>

<p>　上の局面では次に後手（○）が中央下部分を選ばなければ負けてしまいますが、重みデータは<code class="language-plaintext highlighter-rouge">0.52858</code>となっていて<code class="language-plaintext highlighter-rouge">約53%</code>の確率でしか選ばない状態です。学習が進むにつれてこの値が<code class="language-plaintext highlighter-rouge">1.00000</code>に近づいていきます。</p>

<h3 id="ａｉの学習の進捗進化の進捗例">ＡＩの学習の進捗（進化の進捗）例</h3>
<p>　おおよそ3,000回ぐらいの対戦をすると学習が完了（「人」にまで進化）します。</p>
<h4 id="自己対戦のみ">自己対戦のみ：</h4>
<p>　下のグラフはＡＩの自己対戦機能を使って10,000回対戦した場合のゲーム結果（勝ち・負け・引き分け）の推移を表しています。</p>
<div id="self_play_addsub" style="width:600px;height:300px;"></div>

<p>　三目並べはお互いに最善手を選ぶと引き分けになりますので、ＡＩの学習が進めば進むほど引き分けの割合が高くなります。自己対戦のみだと現れにくい局面が生じて、若干学習が遅くなります。</p>

<h4 id="最強プログラムとの対戦人間との対戦">最強プログラムとの対戦（≈人間との対戦）：</h4>
<p>　下のグラフはこのアプリとは別の方法で作成した絶対負けない最強プログラム（人間との対戦に近いと思われます）との対戦経過です。</p>
<div id="saikyo_addsub" style="width:600px;height:300px;"></div>

<p>　最強プログラムとの対戦なのでアプリ側が勝つことはないのですが、学習が進むにつれて引き分けに持ち込む可能性が高くなっていきます（間違った手を選ばなくなる）。自己対戦だけの時より若干速く学習が進むようです。<br />
　出来るだけ考えられるすべての手順を使ってＡＩに対して厳しく勝ち続けることが進化を速めます。</p>

<script type="text/javascript">
function show_self_play_addsub(){
    var old_lose = [[1, 49],[2, 49],[3, 42],[4, 48],[5, 39],[6, 43],[7, 54],[8, 38],[9, 39],[10, 29],[11, 22],[12, 18],[13, 31],[14, 22],[15, 20],[16, 11],[17, 16],[18, 13],[19, 9],[20, 13],[21, 7],[22, 7],[23, 7],[24, 6],[25, 2],[26, 4],[27, 2],[28, 2],[29, 0],[30, 1],[31, 3],[32, 3],[33, 7],[34, 6],[35, 0],[36, 0],[37, 2],[38, 5],[39, 4],[40, 11],[41, 15],[42, 12],[43, 4],[44, 8],[45, 12],[46, 4],[47, 6],[48, 11],[49, 9],[50, 18],[51, 6],[52, 4],[53, 4],[54, 8],[55, 5],[56, 1],[57, 1],[58, 6],[59, 6],[60, 4],[61, 3],[62, 3],[63, 4],[64, 0],[65, 1],[66, 4],[67, 1],[68, 0],[69, 2],[70, 0],[71, 0],[72, 0],[73, 0],[74, 0],[75, 0],[76, 0],[77, 0],[78, 0],[79, 3],[80, 1],[81, 2],[82, 0],[83, 2],[84, 1],[85, 2],[86, 1],[87, 6],[88, 4],[89, 6],[90, 3],[91, 2],[92, 2],[93, 4],[94, 6],[95, 9],[96, 7],[97, 5],[98, 3],[99, 0],[100, 2]];
    var old_win = [[1, 41],[2, 41],[3, 39],[4, 47],[5, 46],[6, 45],[7, 30],[8, 36],[9, 35],[10, 42],[11, 38],[12, 34],[13, 27],[14, 15],[15, 15],[16, 13],[17, 10],[18, 11],[19, 9],[20, 10],[21, 13],[22, 8],[23, 4],[24, 14],[25, 6],[26, 2],[27, 3],[28, 5],[29, 4],[30, 3],[31, 4],[32, 1],[33, 4],[34, 3],[35, 3],[36, 1],[37, 1],[38, 4],[39, 2],[40, 10],[41, 10],[42, 8],[43, 10],[44, 9],[45, 17],[46, 4],[47, 2],[48, 11],[49, 13],[50, 13],[51, 13],[52, 7],[53, 8],[54, 5],[55, 2],[56, 3],[57, 3],[58, 5],[59, 7],[60, 3],[61, 4],[62, 3],[63, 1],[64, 3],[65, 1],[66, 3],[67, 0],[68, 4],[69, 0],[70, 1],[71, 0],[72, 0],[73, 0],[74, 0],[75, 1],[76, 0],[77, 1],[78, 1],[79, 0],[80, 1],[81, 2],[82, 3],[83, 1],[84, 2],[85, 5],[86, 6],[87, 6],[88, 4],[89, 5],[90, 3],[91, 0],[92, 1],[93, 3],[94, 15],[95, 6],[96, 9],[97, 4],[98, 0],[99, 2],[100, 1]];
    var old_draw = [[1, 10],[2, 10],[3, 19],[4, 5],[5, 15],[6, 12],[7, 16],[8, 26],[9, 26],[10, 29],[11, 40],[12, 48],[13, 42],[14, 63],[15, 65],[16, 76],[17, 74],[18, 74],[19, 82],[20, 77],[21, 80],[22, 85],[23, 89],[24, 80],[25, 92],[26, 94],[27, 95],[28, 93],[29, 96],[30, 96],[31, 93],[32, 96],[33, 89],[34, 91],[35, 97],[36, 99],[37, 97],[38, 91],[39, 94],[40, 79],[41, 75],[42, 80],[43, 86],[44, 83],[45, 71],[46, 92],[47, 92],[48, 78],[49, 78],[50, 69],[51, 81],[52, 89],[53, 88],[54, 87],[55, 93],[56, 96],[57, 96],[58, 89],[59, 87],[60, 93],[61, 93],[62, 94],[63, 95],[64, 97],[65, 98],[66, 93],[67, 99],[68, 96],[69, 98],[70, 99],[71, 100],[72, 100],[73, 100],[74, 100],[75, 99],[76, 100],[77, 99],[78, 99],[79, 97],[80, 98],[81, 96],[82, 97],[83, 97],[84, 97],[85, 93],[86, 93],[87, 88],[88, 92],[89, 89],[90, 94],[91, 98],[92, 97],[93, 93],[94, 79],[95, 85],[96, 84],[97, 91],[98, 97],[99, 98],[100, 97]];

    Flotr.draw(
        document.getElementById("self_play_addsub"),
        [
            {data: old_lose, label: "勝ち"},
            {data: old_win, label: "負け"},
            {data: old_draw, label: "引分"}
        ],
        {
            title: "自己対戦による学習の進捗例",
            subtitle: "自己対戦",
            HtmlText: false,
            bars:{show: true, stacked: true, horizontal:false},
            xaxis:{
                title: "対戦回数（×１００）",
                max: 110,
                noTicks: 10
            },
            yaxis:{
                title: "対戦結果（勝ち／負け／引き分け）",
                titleAngle: 90,
                max: 100,
                noTicks: 10
            },
            grid: {
                verticalLines: true,
                horizontalLines: true,
                outline: "ws"
            },
            mouse: {
                track:true,
                trackDecimals: 0
            }
        }
    );
}
function show_saikyo_addsub(){
    var old_lose = [[1, 0],[2, 0],[3, 0],[4, 0],[5, 0],[6, 0],[7, 0],[8, 0],[9, 0],[10, 0],[11, 0],[12, 0],[13, 0],[14, 00],[15, 0],[16, 0],[17, 0],[18, 0],[19, 0],[20, 0],[21, 0],[22, 0],[23, 0],[24, 0],[25, 0],[26, 0],[27, 0],[28, 0],[29, 0],[30, 0],[31, 0],[32, 0],[33, 0],[34, 0],[35, 0],[36, 0],[37, 0],[38, 0],[39, 0],[40, 0],[41, 0],[42, 0],[43, 0],[44, 0],[45, 0],[46, 0],[47, 0],[48, 0],[49, 0],[50, 0],[51, 0],[52, 0],[53, 0],[54, 0],[55, 0],[56, 0],[57, 0],[58, 0],[59, 0],[60, 0],[61, 0],[62, 0],[63, 0],[64, 0],[65, 0],[66, 0],[67, 0],[68, 0],[69, 0],[70, 0],[71, 0],[72, 0],[73, 0],[74, 0],[75, 0],[76, 0],[77, 0],[78, 0],[79, 0],[80, 0],[81, 0],[82, 0],[83, 0],[84, 0],[85, 0],[86, 0],[87, 0],[88, 0],[89, 0],[90, 0],[91, 0],[92, 0],[93, 0],[94, 0],[95, 0],[96, 0],[97, 0],[98, 0],[99, 0],[100, 0]];
    var old_win = [[1, 86],[2, 78],[3, 81],[4, 53],[5, 53],[6, 50],[7, 48],[8, 39],[9, 28],[10, 37],[11, 19],[12, 28],[13, 21],[14, 29],[15, 18],[16, 14],[17, 14],[18, 14],[19, 19],[20, 16],[21, 7],[22, 6],[23, 6],[24, 9],[25, 6],[26, 7],[27, 6],[28, 14],[29, 9],[30, 11],[31, 4],[32, 8],[33, 6],[34, 8],[35, 9],[36, 8],[37, 5],[38, 3],[39, 6],[40, 4],[41, 1],[42, 4],[43, 4],[44, 6],[45, 7],[46, 4],[47, 7],[48, 2],[49, 4],[50, 3],[51, 2],[52, 3],[53, 7],[54, 4],[55, 3],[56, 4],[57, 6],[58, 4],[59, 6],[60, 11],[61, 6],[62, 4],[63, 6],[64, 5],[65, 5],[66, 2],[67, 5],[68, 5],[69, 10],[70, 5],[71, 5],[72, 6],[73, 5],[74, 2],[75, 3],[76, 1],[77, 7],[78, 8],[79, 6],[80, 3],[81, 11],[82, 5],[83, 5],[84, 3],[85, 5],[86, 3],[87, 2],[88, 6],[89, 2],[90, 3],[91, 4],[92, 1],[93, 2],[94, 1],[95, 2],[96, 6],[97, 3],[98, 10],[99, 6],[100, 1]];
    var old_draw = [[1, 14],[2, 22],[3, 19],[4, 47],[5, 47],[6, 50],[7, 52],[8, 61],[9, 72],[10, 63],[11, 81],[12, 72],[13, 79],[14, 71],[15, 82],[16, 86],[17, 86],[18, 86],[19, 81],[20, 84],[21, 93],[22, 94],[23, 94],[24, 91],[25, 94],[26, 93],[27, 94],[28, 86],[29, 91],[30, 89],[31, 96],[32, 92],[33, 94],[34, 92],[35, 91],[36, 92],[37, 95],[38, 97],[39, 94],[40, 96],[41, 99],[42, 96],[43, 96],[44, 94],[45, 93],[46, 96],[47, 93],[48, 98],[49, 96],[50, 97],[51, 98],[52, 97],[53, 93],[54, 96],[55, 97],[56, 96],[57, 94],[58, 96],[59, 94],[60, 89],[61, 94],[62, 96],[63, 94],[64, 95],[65, 95],[66, 98],[67, 95],[68, 95],[69, 90],[70, 95],[71, 95],[72, 94],[73, 95],[74, 98],[75, 97],[76, 99],[77, 93],[78, 92],[79, 94],[80, 97],[81, 89],[82, 95],[83, 95],[84, 97],[85, 95],[86, 97],[87, 98],[88, 94],[89, 98],[90, 97],[91, 96],[92, 99],[93, 98],[94, 99],[95, 98],[96, 94],[97, 97],[98, 90],[99, 94],[100, 99]];

    Flotr.draw(
        document.getElementById("saikyo_addsub"),
        [
            {data: old_lose, label: "勝ち"},
            {data: old_win, label: "負け"},
            {data: old_draw, label: "引分"}
        ],
        {
            title: "最強プログラムとの対戦による学習の進捗例",
            subtitle: "対最強プログラム",
            HtmlText: false,
            bars:{show: true, stacked: true, horizontal:false},
            xaxis:{
                title: "対戦回数（×１００）",
                max: 110,
                noTicks: 10
            },
            yaxis:{
                title: "対戦結果（勝ち／負け／引き分け）",
                titleAngle: 90,
                max: 100,
                noTicks: 10
            },
            grid: {
                verticalLines: true,
                horizontalLines: true,
                outline: "ws"
            },
            mouse: {
                track:true,
                trackDecimals: 0
            }
        }
    );
}

window.onload = function() {
    show_self_play_addsub();
    show_saikyo_addsub();
};
</script>

<div>
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- display01 -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9018029357773039" data-ad-slot="3925247388" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>

<hr />

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>データの互換性がないのはCoffeeScript1.xxからCoffeeScript2に変えたことによるものです。 <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>この本に関する内容は<a href="/software/2015-10-25/machine_learning">ここ</a>や<a href="/software/2015-11-27/reinforcement">ここ</a>や<a href="/software/2019-07-19/self-play">ここ</a>など、ブログ内で散らばっていますので興味のある方はご参照ください。<a href="https://github.com/happyclam/tictactoe_ruby/tree/neural">Rubyのソース</a>も公開していますが、アプリ内でやっていることは本の内容に沿って作ったシンプルな加減算による強化学習です。 <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

        </article>
      </div>
    </div>
  </div>
</div>


  

<footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col-lg-offset-3 col-lg-6">
        <div class="row">
          <div class="col-xs-12 text-center">
            <small>&copy; rifyll theme, 2014</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>


  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->
  <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script> -->
  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>

  <!--<script src="/assets/js/prism.js"></script> -->
  <script src="/assets/js/site.js"></script>
</body>

</html>
